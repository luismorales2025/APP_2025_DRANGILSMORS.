<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Descripción del Producto</title>

<style>
	body {
		font-family: Arial, sans-serif;
		padding: 20px;
		background: #f4f4f4;
	}

	.product-container {
		max-width: 500px;
		margin: auto;
		background: white;
		padding: 20px;
		border-radius: 10px;
		box-shadow: 0 0 10px #0002;
	}

	.product-image {
		width: 100%;
		border-radius: 10px;
	}

	.product-title {
		font-size: 22px;
		font-weight: bold;
		margin-top: 15px;
	}

	.product-price {
		font-size: 20px;
		color: #007bff;
		margin: 10px 0;
	}

	.product-description {
		margin: 10px 0;
		color: #555;
	}

	/* --- BLOQUE DE TALLAS --- */
	.sizes-container {
		margin-top: 15px;
	}

	.size-title {
		font-weight: bold;
		margin-bottom: 5px;
	}

	.sizes-list {
		display: flex;
		gap: 8px;
		flex-wrap: wrap;
	}

	.size-btn {
		padding: 6px 12px;
		border: 1px solid #888;
		border-radius: 8px;
		cursor: pointer;
		background: #fff;
		transition: 0.2s;
	}

	.size-btn:hover {
		background: #ddd;
	}

	.size-btn.active {
		background: #000;
		color: #fff;
		border-color: #000;
	}

	.add-cart-btn {
		width: 100%;
		margin-top: 20px;
		padding: 12px;
		background: #28a745;
		border: none;
		color: white;
		font-size: 18px;
		border-radius: 8px;
		cursor: pointer;
	}

	.add-cart-btn:hover {
		background: #218838;
	}
</style>
</head>

<body>

<div class="product-container">

	<img id="productImg" class="product-image">

	<div id="productTitle" class="product-title"></div>
	<div id="productPrice" class="product-price"></div>
	<div id="productDescription" class="product-description"></div>

	<!-- SECCIÓN DE TALLAS -->
	<div id="sizesSection" class="sizes-container" style="display:none;">
		<div class="size-title">Tallas Disponibles:</div>
		<div id="sizesList" class="sizes-list"></div>
	</div>

	<button class="add-cart-btn">Agregar al Carrito</button>
</div>

<script>
	// Obtener ID desde la URL
	const urlParams = new URLSearchParams(window.location.search);
	const productId = urlParams.get("id");

	// Cargar JSON
	fetch("/data/products.json")
		.then(res => res.json())
		.then(data => {
			const product = data.find(p => p.id === productId);
			if (!product) {
				alert("Producto no encontrado");
				return;
			}

			// Rellenar datos
			document.getElementById("productImg").src = product.image;
			document.getElementById("productTitle").textContent = product.title;
			document.getElementById("productPrice").textContent = "Q " + product.price;
			document.getElementById("productDescription").textContent = product.description;

			// Mostrar tallas si existen
			if (product.sizes && product.sizes.length > 0) {
				const sizesSection = document.getElementById("sizesSection");
				const sizesList = document.getElementById("sizesList");

				sizesSection.style.display = "block"; // mostrar bloque

				product.sizes.forEach(size => {
					const btn = document.createElement("button");
					btn.classList.add("size-btn");
					btn.textContent = size;

					btn.addEventListener("click", () => {
						document.querySelectorAll(".size-btn").forEach(b => b.classList.remove("active"));
						btn.classList.add("active");
					});

					sizesList.appendChild(btn);
				});
			}
		});
</script>

</body>
</html>
