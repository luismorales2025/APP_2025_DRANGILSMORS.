<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>Categor√≠as de Productos</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <style>
    /* TU MISMO CSS ‚Äì NO SE TOC√ì NADA */

    body {
      font-family: 'Poppins', sans-serif;
      margin: 0;
      padding: 0;
      color: #333;
      background: url('../imagenes/plata.jpeg') no-repeat center center fixed;
      background-size: cover;
    }

    header {
      background-color: #232f3e;
      color: white;
      padding: 1em;
      display: flex;
      justify-content: space-between;
      align-items: center;
      flex-wrap: wrap;
    }

    header h1 {
      margin: 0;
      font-size: 22px;
      color: #ffcc00;
      text-shadow: 0 0 10px #ffcc00;
      animation: flotar 2s ease-in-out infinite alternate;
    }

    @keyframes flotar {
      0% { transform: translateY(0); }
      100% { transform: translateY(-5px); }
    }

    nav {
      display: flex;
      gap: 0.5em;
      flex-wrap: wrap;
    }

    nav a {
      color: white;
      text-decoration: none;
      padding: 0.5em 1em;
      background-color: #ff007f;
      border-radius: 8px;
      font-size: 13px;
      box-shadow: 0 4px 8px rgba(0,0,0,0.3);
      transition: transform 0.2s, background-color 0.3s;
    }

    nav a:hover {
      background-color: #ff3399;
      transform: scale(1.1);
    }

    h2 {
      text-align: center;
      margin: 1em 0 0.5em;
      font-size: 24px;
      color: #232f3e;
    }

    .contenedor {
      flex: 1;
      display: flex;
      flex-direction: column;
      align-items: center;
      padding: 1em;
    }

    .categoria {
      width: 90%;
      max-width: 600px;
      margin: 1em 0;
      border-radius: 15px;
      overflow: hidden;
      box-shadow: 0 8px 25px rgba(0, 0, 0, 0.2);
      transition: transform 0.4s ease, box-shadow 0.4s ease;
      animation: aparecer 0.6s ease forwards;
      opacity: 0;
    }

    @keyframes aparecer {
      from { opacity: 0; transform: translateY(40px); }
      to { opacity: 1; transform: translateY(0); }
    }

    .categoria:hover {
      transform: scale(1.04);
      box-shadow: 0 12px 30px rgba(0,0,0,0.35);
    }

    .categoria a {
      display: block;
      text-align: center;
      padding: 2em 0.5em;
      text-decoration: none;
      font-size: 25px;
      font-weight: bold;
      color: white;
      background-size: cover;
      background-position: center;
      background-blend-mode: overlay;
      background-color: rgb(255, 115, 0);
      transition: background-color 0.4s, color 0.3s;
    }

    .categoria a:hover {
      background-color: rgba(255, 51, 51, 0.6);
      color: #ffffff;
    }

    footer {
      background-color: #232f3e;
      color: white;
      text-align: center;
      padding: 1.5em 1em;
      font-size: 14px;
      margin-top: auto;
    }

    .footer-bottom {
      margin-top: 1em;
      font-size: 13px;
      color: #ccc;
    }

    @media screen and (max-width: 600px) {
      .categoria a {
        font-size: 18px;
        padding: 2.5em 1em;
      }
    }
  </style>
</head>
<body>

  <header>
    <h1>DRANGILS MORALES</h1>
    <nav>
      <a href="../pagina_principal/pagina_principal.html">Inicio</a>
      <a href="../opciones/contactogeneral2.html">Contacto</a>
      <a href="../opciones/vercarrito.html">Carrito (<span id="contadorCarrito">0</span>)</a>
    </nav>
  </header>

  <h2>Categor√≠as de Productos</h2>

  <main class="contenedor" id="contenedorCategorias">
    <!-- Aqu√≠ se generar√°n autom√°ticas -->
  </main>

  <footer>
    <div class="footer-bottom">
      ¬© 2025 DRANGILS MORALES. Todos los derechos reservados.
    </div>
  </footer>

<script>
  let carrito = JSON.parse(localStorage.getItem('carrito')) || [];

  function actualizarContador() {
    const contador = document.getElementById('contadorCarrito');
    if (contador) {
      const total = carrito.reduce((acc, p) => acc + (p.cantidad || 1), 0);
      contador.textContent = total;
    }
  }

  actualizarContador();
</script>

<!-- üî• SCRIPT PARA GENERAR CATEGOR√çAS AUTOM√ÅTICAMENTE -->
<script>
async function cargarCategorias() {
  const contenedor = document.getElementById("contenedorCategorias");

  try {
    const response = await fetch("../data/products.json");
    const productos = await response.json();

    // obtener categor√≠as sin repetir
    const categorias = [...new Set(productos.map(p => p.category))];

    categorias.forEach(cat => {
      const div = document.createElement("div");
      div.className = "categoria";

      // ruta din√°mica hacia /categorias_general/categorias/nombre.html
      const ruta = `../categorias_general/categorias/${cat}.html`;

      div.innerHTML = `
        <a href="${ruta}">
          ${cat.toUpperCase()}
        </a>
      `;

      contenedor.appendChild(div);
    });

  } catch (error) {
    console.log("Error cargando categor√≠as:", error);
  }
}

cargarCategorias();
</script>


<!-- BLOQUEO DE HERRAMIENTAS (NO TOCADO) -->
<script>
document.addEventListener('contextmenu', e => e.preventDefault());

document.onkeydown = function(e) {
  if (
    e.ctrlKey && (e.key === 'u' || e.key === 's' || e.key === 'c') ||
    (e.ctrlKey && e.shiftKey && e.key === 'I') ||
    e.key === 'F12'
  ) {
    e.preventDefault();
    return false;
  }
};
</script>

</body>
</html>
